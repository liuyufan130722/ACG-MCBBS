{% extends "base.html" %}
{% block content %}
    <h2>{{ post.title }}</h2>
    <div class="post mb-4 p-4 border rounded">
        <div>{{ post.content|safe }}</div>
        <small>
            æœ¬è´´ä½œè€…~ï¼š<a href="{{ url_for('profile', user_id=post.author.id) }}">{{ post.author.username }}</a> |
            å‘å¸ƒæ—¶é—´~ï¼š{{ post.date_posted.strftime('%Y-%m-%d %H:%M') }}
        </small>
        <div class="mt-3">
            <form method="POST" action="{{ url_for('like_post', post_id=post.id) }}">
                <button type="submit" class="btn btn-sm btn-outline-primary">
                    ğŸ‘ {{ likes }} ç‚¹ä¸ªèµå­~
                </button>
            </form>
        </div>
    </div>

    <h3>å›å¤ä¸€ä¸‹å­~</h3>
    {% if replies %}
        {% for reply in replies %}
            <div class="reply mb-3 p-3 border rounded">
                <p>{{ reply.content }}</p>
                <small>
                    å›å¤è€…æ˜¯è°å‘¢ï¼Ÿï¼š<a href="{{ url_for('profile', user_id=reply.user_id) }}">{{ reply.author.username }}</a> |
                    æ—¶é—´~ï¼š{{ reply.date_posted.strftime('%Y-%m-%d %H:%M') }}
                </small>
            </div>
        {% endfor %}
    {% else %}
        <p>è¿˜æ²¡æœ‰å›å¤ï¼Œå¿«æ¥å‘è¡¨ä½ çš„çœ‹æ³•å§ï¼</p>
    {% endif %}

    <h3>å‘è¡¨å›å¤ä¸€ä¸‹å­~</h3>
    <form method="POST" action="{{ url_for('reply_post', post_id=post.id) }}">
        <div class="form-group">
            <textarea name="content" class="form-control" rows="3" placeholder="è¾“å…¥ä½ çš„å›å¤å‘¢..." required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">æäº¤å›å¤å“¦~</button>
    </form>
{% endblock %}